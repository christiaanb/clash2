queue_rules:
  - name: duplicated backport patches to 1.6 from backport patches to 1.8
    queue_conditions:
      - base=master
      - label=backport 1.6
      - merged
      - label=backport 1.8
    merge_conditions: []
    update_method: rebase
  - name: backport patches to 1.6
    queue_conditions:
      - base=master
      - label=backport 1.6
      - merged
    merge_conditions: []
    update_method: rebase

pull_request_rules:
  # For more information: https://doc.mergify.io/actions.html#copy
  # We used to use the 'backport' action, but:
  # https://github.com/Mergifyio/mergify-engine/issues/789
  - name: backport patches to 1.2
    conditions:
      - base=master
      - label=backport 1.2
      - merged
    actions:
      copy:
        ignore_conflicts: true
        branches:
          - "1.2"

  - name: backport patches to 1.4
    conditions:
      - base=master
      - label=backport 1.4
      - merged
    actions:
      copy:
        ignore_conflicts: true
        branches:
          - "1.4"

  - name: backport patches to 1.6
    conditions:
      - base=master
      - label=backport 1.6
      - merged
    actions:
      copy:
        ignore_conflicts: true
        branches:
          - "1.6"
  - name: backport patches to 1.8
    conditions:
      - base=master
      - label=backport 1.8
      - merged
    actions:
      copy:
        ignore_conflicts: true
        branches:
          - "1.8"
  - name: backport patches to 1.6 + backport patches to 1.8
    conditions: []
    actions:
      queue:
